@use '../../../core/ui/utilities/utility-layout' as *;
@use '../../../core/ui/utilities/utility-text' as *;
@use '../../../core/ui/themes/default/baseColors.scss';
@use '../../../core/ui/themes/default/theme';

panel-diplomacy-peace-deal {
	width: 100vw;
	height: 100vh;
	align-self: center;

	@media (experience: mobile) {
		width: 100%;
		height: 100%;
	}

	.hud_sidepanel_list-bg {
		border-image-slice: 24 10 24 24 fill;
	}
}

.peace-deal__deal-container {
	height: 90%;
	border-image-source: url("fs://game/hud_squarepanel-bg.png");
	border-image-slice: 115 120 120 120 fill;
	border-image-width: pixels(120) pixels(120) pixels(120) pixels(64);
	border-image-outset: pixels(18) pixels(28) pixels(28) pixels(18);

	@media (experience: mobile) {
		margin-top: pixels(56);
	}
}

.peace-deal__portrait {
	@media (max-height: pixels(1000)) {
		margin-left: pixels(0);
	}
}

.peace-deal__portrait-shadow {
	filter: fxs-color-mask(black);
	background-image: url("fs://game/Hex_shadow.png");
}

.peace-deal__portrait-bg {
	mask-image: url("fs://game/Rounded-Hex_48px.png");
	mask-size: contain;
	mask-position: 50% 100%;
	mask-repeat: no-repeat;
	background-color: var(--player-color-secondary);
}

.peace-deal__portrait-big--inner {
	mask-image: url("fs://game/Rounded-Hex_48px.png");
	mask-size: contain;
	mask-position: center;
	mask-repeat: no-repeat;
	background-color: var(--player-color-primary);
	background-image: linear-gradient(210deg, rgba(var(--clr-page__overlay-dark), 0) 0%, rgba(var(--clr-page__overlay-dark), .5) 100%);
}

.peace-deal__portrait-image {
	top: -6.5%;
	background-position-x: 50%;
	background-position-y: 0%;
	transition-property: top;
	transition-duration: 0.25s;
	transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
}

.peace-deal__sword-shield-back {
	background-image: url("fs://game/dip_warswordshield.png");
	left: pixels(-31);
}

.other-player-leader-civ .peace-deal__sword-shield-back {
	right: pixels(-31);
}

.peace-deal__settlement-container {
	&.hidden {
		display: none;
	}
}

.peace-deal__move-button {
	@media (max-height: pixels(1000)) {
		padding-right: pixels(0);
	}
}

.peace-deal__deal-item {
	.fxs-nav-help {
		visibility: hidden;
	}
}

.other-player-settlements .peace-deal__move-button {
	position: relative;
	align-self: flex-start;
	display: flex;
	align-self: center;
	margin-left: pixels(10);
	left: pixels(-1);
}

.peace-deal__settlement-scrollable {
	height: 60%;

	.fxs-scrollable-content {
		padding-top: pixels(40);
		background: linear-gradient(180deg, rgba(5, 7, 13, 0.4) 0%, rgba(5, 7, 13, 0.2) 50.5%, rgba(5, 7, 13, 0.35) 100%);
		background-size: 32% auto;
		background-position-x: 50%;
		background-position-y: 0px;
		background-repeat: no-repeat;
	}
}

.peace-deal__settlement-scrollable .fxs-scrollbar-container {
	right: pixels(5);
}

.panel-diplomacy-peace-deal .peace-deal__button-container fxs-button {
	border: solid pixels(1) white;
	border-image: none;
	background-image: none;
}

.peace-deal__civ-icon-image {
	background-size: 95% 95%;
	background-position: 50% 0%;
	mask-image: url("fs://game/mask_hex_icon_64px.png");
	mask-size: contain;
	mask-repeat: no-repeat;
	mask-position: 50% 100%;
	pointer-events: none;
}


.peace-deal__settlement-icon-bg-outer {
	background-position-x: 50%;
	background-position-y: 50%;
	transition-property: opacity;
	transition-duration: 0.25s;
	transition-delay: 0s;
	transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
	background-image: url("fs://game/hud_civics-icon_frame.png");
	border-radius: 50%;
	overflow: hidden;

	@media (max-height: pixels(1000)) {
		margin-left: pixels(0);
	}
}

.peace-deal__settlement-icon-bg-inner {
	background-position-x: 50%;
	background-position-y: 50%;
	transition-property: opacity;
	transition-duration: 0.25s;
	transition-delay: 0s;
	transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);

	background-image: url("fs://game/dip_peace_item_sec.png");
	filter: fxs-color-tint(var(--owner-color-secondary));
	border-radius: 50%;
	overflow: hidden;
	margin-top: pixels(-70);

	@media (max-height: pixels(1000)) {
		margin-left: pixels(0);
	}
}

.peace-deal__settlement-icon-bg {
	background-position-x: 50%;
	background-position-y: 50%;
	transition-property: opacity;
	transition-duration: 0.25s;
	transition-delay: 0s;
	transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);

	background-image: url("fs://game/dip_peace_item_pri.png");
	filter: fxs-color-tint(var(--owner-color-primary));
	border-radius: 50%;
	overflow: hidden;

	@media (max-height: pixels(1000)) {
		margin-left: pixels(0);
	}
}

.peace-deal__settlement-icon-image {
	overflow: hidden;
	border-radius: 50%;
}

.peace-deal__settlement-population-bg {
	background-color: theme.color("accent-6");
	justify-content: end;
}

.peace-deal__move-arrows {
	background-image: url("fs://game/diplo_arrow.png");
}

.peace-deal__move-arrows .img-questclose {
	background-image: none;
	display: none;
}

.peace-deal__move-arrows .img-questopen {
	background-image: none;
	display: none;
}

.local-player-settlements .peace-deal__move-arrows {
	transform: scaleX(-1);
}

.peace-deal__deal-item-settlement-info {
	max-width: pixels(275);

	@media (max-height: pixels(1000)) {
		padding-left: pixels(0);
		margin-left: pixels(0);
		max-width: pixels(112);
		max-width: pixels(125);
	}
}

.peace-deal__radial-bg {
	background-image: url("fs://game/hud_sub_circle_bk.png");
}

.peace-deal__offer-header-wrapper {
	background: linear-gradient(180deg, rgba(5, 7, 13, 0.4) 0%, rgba(5, 7, 13, 0.2) 50.5%, rgba(5, 7, 13, 0.35) 100%);

	.filigree-inner-frame-bottom {
		display: none;
	}
}

.peace-deal__local-player-receives-title-bg {
	border-image: url("fs://game/dip_peace_deal_header");
	border-image-slice: 12 28 8 28 fill;
	border-image-width: pixels(8);
	filter: fxs-color-tint(var(--local-player-color));
}

.peace-deal__other-player-receives-title-bg {
	border-image: url("fs://game/dip_peace_deal_header");
	border-image-slice: 12 28 8 28 fill;
	border-image-width: pixels(8);
	filter: fxs-color-tint(var(--other-player-color));
}

.peace-deal__local-player-receives-title,
.peace-deal__other-player-receives-title {
	text-shadow: pixels(1) pixels(1) pixels(0) rgba(0, 0, 0, 1);
	max-width: 90%;
}

.peace-deal__title-card {
	@media (max-height: pixels(1000)) {
		width: 50%;
	}
}

.peace-deal__offer-container {
	.filigree-inner-frame-top {
		display: none;
	}
}